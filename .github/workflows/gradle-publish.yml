name: Gradle Package
on: # 언제 움직일건지
  push: # main에 푸시했을 때
    branches: ['main']
  pull_request: # 풀리퀘 받았을 때
    branches: ['main']
jobs:
  build:
    # vm 제공해줌
    runs-on: ubuntu-latest
    steps:
      # 우분투에 이 소스를 다운받아줌
    - name: 1. CheckOut Source
      uses: actions/checkout@v3
      # 자바 깔기
    - name: 2. Set up JDK 11
      uses: actions/setup-java@v3
      with:
        java-version: '21'
        # 자바 배포 버전
        distribution: 'temurin'
    - name: 3. Change Execute Mode
      run: chmod+x ./gradlew
      # 빌드하기
    - name: 4. Build with Gradle
      uses: gradle/gradle-build-action@bd5760595778326ba7f1441bcf7e88b49de61a25 # v2.6.0
      with:
        arguments: build
#    # The USERNAME and TOKEN need to correspond to the credentials environment variables used in
#    # the publishing section of your build.gradle
#    - name: Publish to GitHub Packages
#      uses: gradle/gradle-build-action@bd5760595778326ba7f1441bcf7e88b49de61a25 # v2.6.0
#      with:
#        arguments: publish
#      env:
#        USERNAME: ${{ github.actor }}
#        TOKEN: ${{ secrets.GITHUB_TOKEN }}
